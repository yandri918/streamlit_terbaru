# Quick fix untuk menambahkan lime price inputs
# Insert code ini di sidebar sebelum Calculate button (sekitar line 265)

# ===== LIME PRICES =====
st.subheader("üí∞ Harga Kapur")

col_price1, col_price2 = st.columns(2)

with col_price1:
    price_caco3 = st.number_input(
        "CaCO3 (Rp/ton)",
        min_value=100000,
        max_value=2000000,
        value=st.session_state.get('price_caco3', 500000),
        step=50000,
        help="Harga CaCO3 (Kalsit) per ton",
        key="price_caco3_input"
    )

with col_price2:
    price_dolomite = st.number_input(
        "Dolomite (Rp/ton)",
        min_value=100000,
        max_value=2000000,
        value=st.session_state.get('price_dolomite', 450000),
        step=50000,
        help="Harga Dolomite per ton",
        key="price_dolomite_input"
    )

st.divider()

# Update Calculate button untuk store prices:
# Tambahkan di dalam if st.button("üîç Hitung Kebutuhan Pupuk"):
#     st.session_state.price_caco3 = price_caco3
#     st.session_state.price_dolomite = price_dolomite

# Update semua pemanggilan calculate_lime_requirement():
# Dari:
#   lime_req = calculate_lime_requirement(soil_ph, target_ph, estimated_area, 'medium')
# Menjadi:
#   lime_req = calculate_lime_requirement(
#       soil_ph, target_ph, estimated_area, 'medium',
#       price_caco3=st.session_state.get('price_caco3', 500000),
#       price_dolomite=st.session_state.get('price_dolomite', 450000)
#   )
